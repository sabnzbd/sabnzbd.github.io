---
title: API reference
redirect_from: "/wiki/advanced/automation-support"
---
<h3><span class="glyphicon glyphicon-star"></span> Jump quickly to: <a href="#queue_main">Queue functions</a>, <a href="#history_main">History functions</a> and <a href="#other_main">Other functions</a>.</h3>
<hr>

<h1>Introduction</h1>
<p>The SABnzbd API can be reached via:</p>
<pre><code>http://host:port/sabnzbd/api</code></pre>

<h2>Request types</h2>
<p>Supported output types are <code>json</code>, <code>xml</code> and <code>text</code> and can be specified in the request:
<pre><code>http://host:port/sabnzbd/api?output=json</code></pre>

<h2>API Key and NZB key</h2>
<p>API requires the users API key to be supplied all API requests in order for it to work. The API key is randomly generated and is static unless the user decides to change the key. The user can see their API key on the <a href="/wiki/configuration/{{ site.wiki_version }}/general">General</a> page of the configuration pages.</p>

<pre><code>http://host:port/sabnzbd/api?output=json&amp;apikey=APIKEY</code></pre>
<p>If the API-key is missing the request will return <code>error: API Key Required</code>, if it is incorrect: <code>error: API Key Incorrect</code>.
<p>There is also a seperate NZB key, which only allowes for adding, modifying and removing jobs in the queue. When this key is used for something else, the request will return <code>error: API Key Incorrect</code>.
<p>The <code><a href="#version">version</a></code> and <code><a href="#auth">auth</a></code> functions do not require the API key.</p>


<h2>Documentation</h2>
<p><span class="label label-warning">NOTE</span> In all examples below the <code>apikey=APIKEY&amp;output=json</code> part is not shown but still necessary.</p>

<p><span class="label label-primary">True/False</span> Indicates the API will return the status, for some functions it's always <code>true</code>, even if the operation failed. Sorry about that!
{% highlight json %}
{
    "status":true
}
{% endhighlight %}
<hr>

<h1 id="queue_main">Queue functions</h1>

<table class="table table-bordered table-hover">
    <thead>
        <tr>
            <th>Function</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><a href="#queue">queue</a></td>
            <td>Full Queue output</td>
        </tr>
        <tr>
            <td><a href="#pause">pause</a> (queue)</td>
            <td>Pause whole queue</td>
        </tr>
        <tr>
            <td><a href="#resume">resume</a> (queue)</td>
            <td>Resume whole queue</td>
        </tr>
        <tr>
            <td><a href="#speedlimit">speedlimit</a></td>
            <td>Set speedlimit</td>
        </tr>
        <tr>
            <td><a href="#change_complete_action">change_complete_action</a></td>
            <td>Action on queue complete</td>
        </tr>
        <tr>
            <td><a href="#sort">sort</a></td>
            <td>Sort the queue</td>
        </tr>
        <tr>
            <td><a href="#addurl">addurl</a></td>
            <td>Add NZB by URL</td>
        </tr>
        <tr>
            <td><a href="#addfile">addfile</a></td>
            <td>Add NZB by file upload</td>
        </tr>
        <tr>
            <td><a href="#addlocalfile">addlocalfile</a></td>
            <td>Add NZB by local file path</td>
        </tr>
        <tr>
            <td><a href="#pause_single">pause</a> (single job)</td>
            <td>Pause a single job</td>
        </tr>
        <tr>
            <td><a href="#resume_single">resume</a> (single job)</td>
            <td>Resume a single job</td>
        </tr>
        <tr>
            <td><a href="#delete">delete</a></td>
            <td>Delete job</td>
        </tr>
        <tr>
            <td><a href="#purge">purge</a></td>
            <td>Delete all jobs or based on keyword</td>
        </tr>
        <tr>
            <td><a href="#move">move</a></td>
            <td>Change position of job in queue</td>
        </tr>
        <tr>
            <td><a href="#change_category">change_category</a></td>
            <td>Change job category</td>
        </tr>
        <tr>
            <td><a href="#change_script">change_script</a></td>
            <td>Change job script</td>
        </tr>
        <tr>
            <td><a href="#priority">priority</a></td>
            <td>Change job priority</td>
        </tr>
        <tr>
            <td><a href="#change_opts">change_opts</a></td>
            <td>Change job post-processing</td>
        </tr>
        <tr>
            <td><a href="#rename">rename</a></td>
            <td>Change name and password of job</td>
        </tr>
        <tr>
            <td><a href="#get_files">get_files</a></td>
            <td>Get details of files in a job</td>
        </tr>
        <tr>
            <td><a href="#delete_nzf">delete_nzf</a></td>
            <td>Remove a file from a job</td>
        </tr>
    </tbody>
</table>

<h2 id="queue">Full Queue output</h2>
<p>Full queue output with details about all jobs.</p>
<pre><code>api?mode=queue&amp;start=START&amp;limit=LIMIT&amp;search=SEARCH</code></pre>
<p><span class="label label-warning">NOTE</span> Some of the less obvious output paramaters are described below.</p>

<table class="table table-bordered table-hover">
    <thead>
        <tr>
            <th>Input parameter</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code>start</code> <small>optional</small></td>
            <td>Index of job to start at</td>
        </tr>
        <tr>
            <td><code>limit</code> <small>optional</small></td>
            <td>Number of jobs to display</td>
        </tr>
        <tr>
            <td><code>search</code> <small>optional</small></td>
            <td>Filter job names by <code>search</code> term</td>
        </tr>
    </tbody>
</table>


<table class="table table-bordered table-hover">
    <thead>
        <tr>
            <th>Output parameter</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code>speedlimit</code></td>
            <td>In percentage of maximum set by user</td>
        </tr>
        <tr>
            <td><code>speedlimit_abs</code></td>
            <td>In bytes/s</td>
        </tr>
        <tr>
            <td><code>labels</code></td>
            <td>Labels like <code>DUPLICATE</code>, <code>ENCRYPTED</code> and <code>PROPAGATING X min</code> (new in 3.0.0).</td>
        </tr>
        <tr>
            <td><code>unpackopts</code></td>
            <td>See <a href="#change_opts">change_opts</a></td>
        </tr>
        <tr>
            <td><code>loadavg</code></td>
            <td>On Linux this will contain a string with information about system load</td>
        </tr>
    </tbody>
</table>

<p><span class="label label-warning">NOTE</span> In 3.0.0+ labels like <code>DUPLICATE</code> and <code>PROPAGATING X min</code> are no longer part of the <code>filename</code>.</p>

{% highlight json %}
{
    "queue":{
        "status":"Downloading",
        "speedlimit":"9",
        "speedlimit_abs":"4718592.0",
        "paused":false,
        "noofslots_total":2,
        "noofslots":2,
        "limit":10,
        "start":0,
        "eta":"17:52 Thu 21 Jul",
        "timeleft":"0:16:44",
        "speed":"1.3 M",
        "kbpersec":"1296.02",
        "size":"1.2 GB",
        "sizeleft":"1.2 GB",
        "mb":"1277.65",
        "mbleft":"1271.58",
        "slots":[
            {
                "status":"Downloading",
                "index":0,
                "password":"",
                "avg_age":"2895d",
                "script":"None",
                "has_rating":false,
                "mb":"1277.65",
                "mbleft":"1271.59",
                "mbmissing":"0.0",
                "size":"1.2 GB",
                "sizeleft":"1.2 GB",
                "filename":"TV.Show.S04E11.720p.HDTV.x264",
                "labels": [],
                "priority":"Normal",
                "cat":"tv",
                "eta":"17:52 Thu 21 Jul",
                "timeleft":"0:16:44",
                "percentage":"0",
                "nzo_id":"SABnzbd_nzo_p86tgx",
                "unpackopts":"3"
            },
            {
                "status":"Paused",
                "index":1,
                "password":"",
                "avg_age":"2895d",
                "script":"None",
                "has_rating":false,
                "mb":"1277.76",
                "mbleft":"1277.76",
                "mbmissing":"0.0",
                "size":"1.2 GB",
                "sizeleft":"1.2 GB",
                "filename":"TV.Show.S04E12.720p.HDTV.x264",
                "labels": ["TOO LARGE", "DUPLICATE"],
                "priority":"Normal",
                "cat":"tv",
                "eta":"unknown",
                "timeleft":"0:00:00",
                "percentage":"0",
                "nzo_id":"SABnzbd_nzo_ksfai6",
                "unpackopts":"3"
            }
        ],
        "categories":[
            "*",
            "movies",
            "series",
            "tv"
        ],
        "scripts":[
            "None",
            "Notify.py",
            "sabnzbd-notify.py"
        ],
        "diskspace1":"161.16",
        "diskspace2":"161.16",
        "diskspacetotal1":"465.21",
        "diskspacetotal2":"465.21",
        "diskspace1_norm":"161.2 G",
        "diskspace2_norm":"161.2 G",
        "rating_enable":false,
        "have_warnings":"0",
        "pause_int":"0",
        "loadavg":"",
        "left_quota":"0 ",
        "refresh_rate":"1",
        "version":"2.x.x",
        "finish":2,
        "cache_art":"16",
        "cache_size":"6 MB",
        "cache_max":"1073741824",
        "finishaction":null,
        "paused_all":false,
        "quota":"0 ",
        "have_quota":false,
        "queue_details":"0"
    }
}
{% endhighlight %}

<h2 id="pause">Pause queue <span class="label label-primary">True/False</span></h2>
<p>Pauses the whole queue (do not confuse this will pausing an individual download, this is a global pause).</p>
<pre><code>api?mode=pause</code></pre>
<p>Pauses for <code>value</code> minutes.</p>
<pre><code>api?mode=config&amp;name=set_pause&amp;value=50</code></pre>

<h2 id="resume">Resume queue <span class="label label-primary">True/False</span></h2>
<p>Resumes the whole queue (do not confuse this will resuming an individual download, this is a global pause).</p>
<pre><code>api?mode=resume</code></pre>

<h2 id="speedlimit">Set speedlimit <span class="label label-primary">True/False</span></h2>
<p>Sets the speedlimit to <code>value</code> in percentage of the maximum line speed (set by user).</p>
<pre><code>api?mode=config&amp;name=speedlimit&amp;value=30</code></pre>
<p> It can also be followed by <code>K,M</code> to define speedlimit in <code>KB/s,MB/s</code>, respectively.
<pre><code>api?mode=config&amp;name=speedlimit&amp;value=400K</code></pre>
<p><span class="label label-warning">NOTE</span> In SABnzbd 0.7.20 and below the <code>value</code> is always interpreted as <code>KB/s</code>, no percentages.</p>

<h2 id="change_complete_action">Action on queue complete <span class="label label-primary">True/False</span></h2>
<p>Set an end-of-queue action</p>
<pre><code>api?mode=queue&amp;name=change_complete_action&amp;value=ACTION</code></pre>
<p>Options:
<ul>
    <li><code>hibernate_pc</code></li>
    <li><code>standby_pc</code></li>
    <li><code>shutdown_program</code></li>
    <li>Script: prefix the name of the script with <code>script_</code>, for example <code>script_test.py</code></li>
</ul>
<p>On some systems additional packages are required to allow SABnzbd to control power states, if there are problems in <a href="#queue">queue</a> it will show as <code>power_options=false</code>.

<h2 id="sort">Sort the queue <span class="label label-primary">True/False</span></h2>
<p>Sort the queue by <code>avg_age</code>, <code>name</code> or <code>size</code> in <code>asc</code> or <code>desc</code> order.
<pre><code>api?mode=queue&amp;name=sort&amp;sort=avg_age&amp;dir=desc</code></pre>

<h2 id="addurl">Add NZB by URL</h2>
<p>Add NZB using an URL that needs to be accessible by SABnzbd, so make sure to include authentication information if the Indexer requires it. Example of a full request with everything set to default values is shown below, but only the <code>name</code> parameter is required.</p>
<pre><code>api?mode=addurl&amp;name=https%3A%2F%indexer.info%2Fget.php%3Fguid%3Ded731c0b37f25f84aea563d6ddb210b1%26api%3D6f235b80fab0c76e1ce7da21b2c6c48c&amp;nzbname=&amp;cat=*&amp;script=Default&amp;priority=-100&amp;pp=-1</code></pre>

<p>Returns the <code>nzo_id</code> of the job:</p>
{% highlight json %}
{
    "status": true,
    "nzo_ids": ["SABnzbd_nzo_kyt1f0"]
}
{% endhighlight %}

<table class="table table-bordered table-hover">
    <thead>
        <tr>
            <th>Input parameter</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code>name</code></td>
            <td><a href="http://www.w3schools.com/tags/ref_urlencode.asp" target="_blank">URL-encoded</a> version of the link to the NZB to be fetched.</td>
        </tr>
        <tr>
            <td><code>nzbname</code> <small>optional</small></td>
            <td>
                Name of the job, if empty the NZB filename is used.<br>
            </td>
        </tr>
        <tr>
            <td><code>password</code> <small>optional</small></td>
            <td>
                Password to use when unpacking the job (new in 3.0.0+).
            </td>
        </tr>
        <tr>
            <td><code>cat</code> <small>optional</small></td>
            <td>Category to be assigned, <code>*</code> means <code>Default</code>. List of available categories can be retrieved from <a href="#get_cats">get_cats</a>.</td>
        </tr>
        <tr>
            <td><code>script</code> <small>optional</small></td>
            <td>Script to be assigned, <code>Default</code> will use the script assigned to the category. List of available scripts can be retrieved from <a href="#get_scripts">get_scripts</a>.</td>
        </tr>
        <tr>
            <td><code>priority</code> <small>optional</small></td>
            <td>Priority to be assigned:
                <ul>
                    <li><code>-100</code> = Default Priority (of category)</li>
                    <li><code>-2</code> = Paused</li>
                    <li><code>-1</code> = Low Priority</li>
                    <li><code>0</code> = Normal Priority</li>
                    <li><code>1</code> = High Priority</li>
                    <li><code>2</code> = Force</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td><code>pp</code> <small>optional</small></td>
            <td>Post-processing options:
                <ul>
                    <li><code>-1</code> = Default (of category)</li>
                    <li><code>0</code> = None</li>
                    <li><code>1</code> = +Repair</li>
                    <li><code>2</code> = +Repair/Unpack</li>
                    <li><code>3</code> = +Repair/Unpack/Delete</li>
                </ul>
            </td>
        </tr>
    </tbody>
</table>

<h2 id="addfile">Add NZB by file upload</h2>
<p>Upload NZB using <code>POST multipart/form-data</code>. In your form, set the value of the field <code>mode</code> to <code>addfile</code>; the file data should be in the field <code>name</code> or the field <code>nzbfile</code>.
    <br>For other parameters and output see <a href="#addurl">addurl</a>.</p>

<h2 id="addlocalfile">Add NZB by file upload</h2>
<p>Upload NZB from a location on the file system that SABnzbd can access. The path should be <a href="http://www.w3schools.com/tags/ref_urlencode.asp" target="_blank">URL-encoded</a>. <br>For other parameters and output see <a href="#addurl">addurl</a>.
<p>Example of adding a file <code>E:\Downloads\Movie.BRRip.x264.1080p-NPW.nzb</code>:

<pre><code>api?mode=addlocalfile&amp;name=E%3A%5CDownloads%5CMovie.BRRip.x264.1080p-NPW.nzb&amp;nzbname=The.Job.Name&amp;cat=*&amp;script=Default&amp;priority=-100&amp;pp=-1</code></pre>

<h2 id="pause_single">Pause single job <span class="label label-primary">True/False</span></h2>
<p>Pause a single job based on its <code>nzo_id</code>.</p>
<pre><code>api?mode=queue&amp;name=pause&amp;value=NZO_ID</code></pre>

<h2 id="resume_single">Resume single job <span class="label label-primary">True/False</span></h2>
<p>Resume a single job based on its <code>nzo_id</code>.</p>
<pre><code>api?mode=queue&amp;name=resume&amp;value=NZO_ID</code></pre>

<h2 id="delete">Delete jobs <span class="label label-primary">True/False</span></h2>
<p>Delete job(s) based on <code>nzo_id</code>.</p>
<p><span class="label label-warning">NOTE</span> By default already download files of a job are not removed, add <code>del_files=1</code> to have all files removed.</p>
<pre><code>api?mode=queue&amp;name=delete&amp;value=NZO_ID</code></pre>
<p>Deleting multiple items:</p>
<pre><code>api?mode=queue&amp;name=delete&amp;value=NZO_ID_1,NZO_ID_2,NZO_ID_2</code></pre>
<p>Deleting all items:</p>
<pre><code>api?mode=queue&amp;name=delete&amp;value=all&amp;del_files=1</code></pre>


<h2 id="purge">Purge queue</h2>
<p>Remove all jobs from the queue, or only the ones matching <code>search</code>. Returns <code>nzb_id</code> of the jobs removed.</p>
<pre><code>api?mode=queue&amp;name=purge&amp;search=SEARCH&amp;del_files=1</code></pre>
<p><span class="label label-warning">NOTE</span> By default already download files of a job are not removed, add <code>del_files=1</code> to have all files removed.</p>

<h2 id="move">Move job in queue</h2>
<p>Job's can be switched by providing 2 <code>nzo_id</code>, <code>value</code> is the item you want to move, <code>value2</code> is the name of the job where you want to put <code>value</code> one above, shifting job <code>value2</code> down.
<pre><code>api?mode=switch&amp;value=NZO_ID_1&amp;value2=NZO_ID_2</code></pre>
<p>You can also move to a specific location in the queu, where <code>0</code> is the top of the queue:</p>
<pre><code>api?mode=switch&amp;value=NZO_ID&amp;value2=2</code></pre>
<p>Both commands will return the new position and priority, since a job's location is also dependent on its priority:</p>
{% highlight json %}
{
    "result": {
        "priority": 0,
        "position": 2
    }
}
{% endhighlight %}

<h2 id="change_category">Change job category <span class="label label-primary">True/False</span></h2>
<p>Change category of job with <code>nzo_id</code>. List of available categories can be retrieved from <a href="#get_cats">get_cats</a>.</p>
<pre><code>api?mode=change_cat&amp;value=NZO_ID&amp;value2=Category</code></pre>

<h2 id="change_script">Change job script <span class="label label-primary">True/False</span></h2>
<p>Change script of job with <code>nzo_id</code>. List of available scripts can be retrieved from <a href="#get_scripts">get_scripts</a>.</p>
<pre><code>api?mode=change_cat&amp;value=NZO_ID&amp;value2=script.py</code></pre>

<h2 id="priority">Change job priority <span class="label label-primary">True/False</span></h2>
<p>Change priority of job with <code>nzo_id</code>.</p>
<ul>
    <li><code>-100</code> = Default Priority (of category)</li>
    <li><code>-2</code> = Paused</li>
    <li><code>-1</code> = Low Priority</li>
    <li><code>0</code> = Normal Priority</li>
    <li><code>1</code> = High Priority</li>
    <li><code>2</code> = Force</li>
</ul>
<pre><code>api?mode=queue&amp;name=priority&amp;value=NZO_ID&amp;value2=0</code></pre>

<h2 id="change_opts">Change job post-processing options <span class="label label-primary">True/False</span></h2>
<p>Change post-processing of job with <code>nzo_id</code>.</p>
<ul>
    <li><code>-1</code> = Default (of category)</li>
    <li><code>0</code> = None</li>
    <li><code>1</code> = +Repair</li>
    <li><code>2</code> = +Repair/Unpack</li>
    <li><code>3</code> = +Repair/Unpack/Delete</li>
</ul>
<pre><code>api?mode=change_opts&amp;value=NZO_ID&amp;value2=0</code></pre>

<h2 id="rename">Change job name <span class="label label-primary">True/False</span></h2>
<p>Change name and password of job with <code>nzo_id</code>.
<p><span class="label label-warning">NOTE</span> <code>value3</code> can be empty, but to set a password <code>value</code> and <code>value2</code> must also be filled, using the current name.
<pre><code>api?mode=queue&amp;name=rename&amp;value=NZO_ID&amp;value2=NEW_NAME&amp;value3=PASSWORD</code></pre>
<p>Or you can set a password as part of the new name in <code>value2</code>, see: <a href="/wiki/advanced/password-protected-rars">RAR with password</a>.
{% raw %}<pre><code>api?mode=queue&amp;name=rename&amp;value=NZO_ID&amp;value2=NEW_NAME{{PASSWORD}}</code></pre>{% endraw %}

<h2 id="get_files">Get files in job</h2>
<p>Get files of job with <code>nzo_id</code>.</p>
<pre><code>api?mode=get_files&amp;value=NZO_ID</code></pre>
<p>The <code>status</code> indicates if a file was <code>finished</code>, in the process of being downloaded (<code>active</code>) or will only be downloaded when necessary (<code>queued</code>, like <code>.par2</code> files). The <code>set</code> shows to which part of the download the <code>.par2</code> files belong to, in case of multiple sets in 1 job. Files are sorted in order: finished, active, queued.</p>

{% highlight json %}
{
    "files":[
        {
            "status":"finished",
            "mbleft":"0.00",
            "mb":"0.05",
            "age":"25d",
            "bytes":"52161.00",
            "filename":"93a4ec7c37752640deab48dabb46b164.par2",
            "mbleft":"0.00",
            "nzf_id":"SABnzbd_nzf_1lk0ij"
        },
        {
            "status":"active",
            "mbleft":"20.58",
            "mb":"98.50",
            "age":"25d",
            "bytes":"103287413.00",
            "filename":"93a4ec7c37752640deab48dabb46b164.01",
            "nzf_id":"SABnzbd_nzf_zgx_gg"
        },
        {
            "status":"queued",
            "set":"93a4ec7c37752640deab48dabb46b164",
            "mbleft":"3.13",
            "mb":"3.13",
            "age":"25d",
            "bytes":"3279083.00",
            "filename":"93a4ec7c37752640deab48dabb46b164.vol000+02.par2",
            "nzf_id":"SABnzbd_nzf_ee63r6"
        }
    ]
}
{% endhighlight %}

<h2 id="delete_nzf">Remove a file from a job</h2>
<p>Remove a file using <code>nzo_id</code> of the job and <code>nzf_id</code> of the file. Returns the <code>nzf_id</code> of removed file.
<pre><code>api?mode=queue&amp;name=delete_nzf&amp;value=NZO_ID&amp;value2=NZF_ID</code></pre>

<hr>
<h1 id="history_main">History functions</h1>

<table class="table table-bordered table-hover">
    <thead>
        <tr>
            <th>Function</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><a href="#history">history</a></td>
            <td>Full history output</td>
        </tr>
        <tr>
            <td><a href="#retry">retry</a></td>
            <td>Retry failed job</td>
        </tr>
        <tr>
            <td><a href="#retry_all">retry_all</a></td>
            <td>Retry all failed jobs</td>
        </tr>
        <tr>
            <td><a href="#delete_history">delete</a></td>
            <td>Delete history item</td>
        </tr>
    </tbody>
</table>

<h2 id="history">History output</h2>
<p>Full history output with details about all jobs. The <code>queue</code> and the <code>history</code> output share many common fields, but the history also contains statistiscs about how much has been downloaded in the past day, week, month and total.</p>
<pre><code>api?mode=history&amp;start=START&amp;limit=LIMIT&amp;category=CATEGORY&amp;search=SEARCH&amp;failed_only=0</code></pre>
<p><span class="label label-warning">NOTE</span> Some of the less obvious output paramaters are described below.</p>
<table class="table table-bordered table-hover">
    <thead>
        <tr>
            <th>Input parameter</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code>start</code> <small>optional</small></td>
            <td>Index of job to start at</td>
        </tr>
        <tr>
            <td><code>limit</code> <small>optional</small></td>
            <td>Number of jobs to display</td>
        </tr>
        <tr>
            <td><code>category</code> <small>optional</small></td>
            <td>Only return jobs in this category (Only 1.0.0+)</td>
        </tr>
        <tr>
            <td><code>search</code> <small>optional</small></td>
            <td>Filter job names by <code>search</code> term</td>
        </tr>
        <tr>
            <td><code>failed_only</code> <small>optional</small></td>
            <td>Only show failed jobs</td>
        </tr>
        <tr>
            <td><code>last_history_update</code> <small>optional</small></td>
            <td>Only return full output if anything has changed since <code>last_history_update</code>, the last update is given by a previous call to <code>history</code></td>
        </tr>
    </tbody>
</table>
<table class="table table-bordered table-hover">
    <thead>
        <tr>
            <th>Output parameter</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code>series</code></td>
            <td>How SABnzbd identified the show and season/episode info</td>
        </tr>
        <tr>
            <td><code>pp</code></td>
            <td>Different format than the queue:
                <ul>
                    <li><code>R</code> = +Repair</li>
                    <li><code>U</code> = +Repair/Unpack</li>
                    <li><code>D</code> = +Repair/Unpack/Delete</li>
                </ul>
            </td>
        </tr>
        <tr>
            <td><code>path</code></td>
            <td>Temporary destination</td>
        </tr>
        <tr>
            <td><code>storage</code></td>
            <td>Final destination</td>
        </tr>
        <tr>
            <td><code>loaded</code></td>
            <td>If <code>true</code>, item is post-processing</td>
        </tr>
        <tr>
            <td><code>completeness</code> / <code>show_details</code></td>
            <td>Depricated</td>
        </tr>
    </tbody>
</table>

{% highlight json %}
{
    "history":{
        "noofslots":220,
        "day_size":"1.9 G",
        "week_size":"30.4 G",
        "month_size":"167.3 G",
        "total_size":"678.1 G",
        "last_history_update":1469210913,
        "slots":[
            {
                "action_line":"",
                "series":"TV.Show/4/2",
                "show_details":"True",
                "script_log":"",
                "meta":null,
                "fail_message":"",
                "loaded":false,
                "id":235,
                "size":"2.3 GB",
                "category":"tv",
                "pp":"D",
                "retry":0,
                "completeness":0,
                "script":"None",
                "nzb_name":"TV.Show.S04E02.720p.BluRay.x264-xHD.nzb",
                "download_time":64,
                "storage":"C:\\Users\\xxx\\Videos\\Complete\\TV.Show.S04E02.720p.BluRay.x264-xHD",
                "has_rating":false,
                "status":"Completed",
                "script_line":"",
                "completed":1469172988,
                "nzo_id":"SABnzbd_nzo_sdkoun",
                "downloaded":2436906376,
                "report":"",
                "password":"",
                "path":"\\\\?\\C:\\SABnzbd\\TV.Show.S04E02.720p.BluRay.x264-xHD",
                "postproc_time":40,
                "name":"TV.Show.S04E02.720p.BluRay.x264-xHD",
                "url":"TV.Show.S04E02.720p.BluRay.x264-xHD.nzb",
                "md5sum":"d2c16aeecbc1b1921d04422850e93013",
                "bytes":2436906376,
                "url_info":"",
                "stage_log":[
                    {
                        "name":"Source",
                        "actions":[
                            "TV.Show.S04E02.720p.BluRay.x264-xHD.nzb"
                        ]
                    },
                    {
                        "name":"Download",
                        "actions":[
                            "Downloaded in 1 min 4 seconds at an average of 36.2 MB/s<br/>Age: 550d<br/>10 articles were malformed"
                        ]
                    },
                    {
                        "name":"Servers",
                        "actions":[
                            "Frugal=2.3 GB"
                        ]
                    },
                    {
                        "name":"Repair",
                        "actions":[
                            "[pA72r5Ac6lW3bmpd20T7Hj1Zg2bymUsINBB50skrI] Repaired in 19 seconds"
                        ]
                    },
                    {
                        "name":"Unpack",
                        "actions":[
                            "[pA72r5Ac6lW3bmpd20T7Hj1Zg2bymUsINBB50skrI] Unpacked 1 files/folders in 6 seconds"
                        ]
                    }
                ]
            },
            {
                "action_line":"",
                "series":"TV.Show/4/13",
                "show_details":"True",
                "script_log":"",
                "meta":null,
                "fail_message":"",
                "loaded":false,
                "id":234,
                "size":"2.3 GB",
                "category":"tv",
                "pp":"D",
                "retry":0,
                "completeness":0,
                "script":"None",
                "nzb_name":"TV.Show.S04E13.720p.BluRay.x264-xHD.nzb",
                "download_time":60,
                "storage":"C:\\Users\\xxx\\Videos\\Complete\\TV.Show.S04E13.720p.BluRay.x264-xHD",
                "has_rating":false,
                "status":"Completed",
                "script_line":"",
                "completed":1469172947,
                "nzo_id":"SABnzbd_nzo_gqhp63",
                "downloaded":2491255137,
                "report":"",
                "password":"",
                "path":"\\\\?\\C:\\SABnzbd\\TV.Show.S04E13.720p.BluRay.x264-xHD",
                "postproc_time":82,
                "name":"TV.Show.S04E13.720p.BluRay.x264-xHD",
                "url":"TV.Show.S04E13.720p.BluRay.x264-xHD.nzb",
                "md5sum":"85baf55ec0de0dc732c2af6537c5c01b",
                "bytes":2491255137,
                "url_info":"",
                "stage_log":[
                    {
                        "name":"Source",
                        "actions":[
                            "TV.Show.S04E13.720p.BluRay.x264-xHD.nzb"
                        ]
                    },
                    {
                        "name":"Download",
                        "actions":[
                            "Downloaded in 1 min at an average of 39.4 MB/s<br/>Age: 558d<br/>15 articles were malformed"
                        ]
                    },
                    {
                        "name":"Servers",
                        "actions":[
                            "Frugal=2.3 GB"
                        ]
                    },
                    {
                        "name":"Repair",
                        "actions":[
                            "[m0vklMEMKIT5L5XH9z5YTmuquoitCQ3F5LISTLFjT] Repaired in 47 seconds"
                        ]
                    },
                    {
                        "name":"Unpack",
                        "actions":[
                            "[m0vklMEMKIT5L5XH9z5YTmuquoitCQ3F5LISTLFjT] Unpacked 1 files/folders in 6 seconds"
                        ]
                    }
                ]
            }
        ]
    }
}
{% endhighlight %}

<h2 id="retry">Retry history item <span class="label label-primary">True/False</span></h2>
<p>Retry history item(s) based on <code>nzo_id</code>. Optionally provide a <code>password</code> and an additional NZB as <code>POST multipart/form-data</code> in the <code>nzbfile</code> field.</p>
<p><span class="label label-warning">NOTE</span> Pay attention to the different variable names used here: <code>value</code> and <code>nzbfile</code>.</p>
<pre><code>api?mode=retry&amp;value=NZO_ID&amp;password=password</code></pre>

<h2 id="retry_all">Retry all history items <span class="label label-primary">True/False</span></h2>
<p>Will retry all failed jobs in the history. However, you are not able to supply passwords or extra NZB's.
<pre><code>api?mode=retry_all</code></pre>


<h2 id="delete_history">Delete history items <span class="label label-primary">True/False</span></h2>
<p>Delete history item(s) based on <code>nzo_id</code>.</p>
<p><span class="label label-warning">NOTE</span> By default files of failed jobs are not removed, add <code>del_files=1</code> to also have them removed.</p>
<pre><code>api?mode=history&amp;name=delete&amp;value=NZO_ID</code></pre>
<p>Deleting multiple items:</p>
<pre><code>api?mode=history&amp;name=delete&amp;value=NZO_ID_1,NZO_ID_2,NZO_ID_3</code></pre>
<p>Deleting all items:</p>
<pre><code>api?mode=history&amp;name=delete&amp;value=all</code></pre>
<p>Deleting all <strong>failed</strong> items:</p>
<pre><code>api?mode=history&amp;name=delete&amp;value=failed</code></pre>

<hr>
<h1 id="other_main">Other functions</h1>
<p><span class="label label-warning">NOTE</span> Other functions are listed below, some straightforward commands are described only in this table and can simply be activated by calling:</p>
<pre><code>api?mode=FUNCTION</code></pre>

<table class="table table-bordered table-hover">
    <thead>
        <tr>
            <th>Function</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code id="version">version</code></td>
            <td>Get version of running SABnzbd</td>
        </tr>
        <tr>
            <td><code id="auth">auth</code></td>
            <td>Get authentication methods available for interaction with the API</td>
        </tr>
        <tr>
            <td><a href="#fullstatus">fullstatus</a></td>
            <td>All status information</td>
        </tr>
        <tr>
            <td><a href="#warnings">warnings</a></td>
            <td>Get all active warnings</td>
        </tr>
        <tr>
            <td><a href="#warnings_clear">warnings clear</a></td>
            <td>Clear all active warnings</td>
        </tr>
        <tr>
            <td><a href="#get_cats">get_cats</a></td>
            <td>Get all categories</td>
        </tr>
        <tr>
            <td><a href="#get_scripts">get_scripts</a></td>
            <td>Get all scripts</td>
        </tr>
        <tr>
            <td><a href="#server_stats">server_stats</a></td>
            <td>Get download statistics</td>
        </tr>
        <tr>
            <td><a href="#get_config">get_config</a></td>
            <td>Get value of configuration item</td>
        </tr>
        <tr>
            <td><a href="#set_config">set_config</a></td>
            <td>Set configuration item to value</td>
        </tr>
        <tr>
            <td><a href="#set_config_default">set_config_default</a></td>
            <td>Reset config item to default value</td>
        </tr>
        <tr>
            <td><code>shutdown</code></td>
            <td><span class="label label-primary">True/False</span> Shutdown SABnnzbd</td>
        </tr>
        <tr>
            <td><code>restart</code></td>
            <td><span class="label label-primary">True/False</span> Restart SABnnzbd</td>
        </tr>
        <tr>
            <td><code>pause_pp</code></td>
            <td><span class="label label-primary">True/False</span> Pause post-processing queue</td>
        </tr>
        <tr>
            <td><code>resume_pp</code></td>
            <td><span class="label label-primary">True/False</span> Resume post-processing queue</td>
        </tr>
        <tr>
            <td><code>rss_now</code></td>
            <td><span class="label label-primary">True/False</span> Fetch and process all RSS feeds</td>
        </tr>
        <tr>
            <td><code>watched_now</code></td>
            <td><span class="label label-primary">True/False</span> Scan Watched Folder now</td>
        </tr>
        <tr>
            <td><code>reset_quota</code></td>
            <td><span class="label label-primary">True/False</span> Reset the user defined quota to 0</td>
        </tr>
        <tr>
            <td><code>mode=config</code> <code>name=set_apikey</code></td>
            <td>Reset the API key, returns the new key</td>
        </tr>
        <tr>
            <td><code>mode=config</code> <code>name=set_nzbkey</code></td>
            <td>Reset the NZB key, returns the new key</td>
        </tr>
        <tr>
            <td><code>mode=config</code> <code>name=regenerate_certs</code></td>
            <td>Regenerate the self-signed certificate for HTTPS connection to interface, requires SABnzbd restart to take effect</td>
        </tr>
        <tr>
            <td><a href="#translate">translate</a></td>
            <td>Translate a text to user's locale</td>
        </tr>
    </tbody>
</table>

<h2 id="fullstatus">Status information</h2>
<p>Get all status information available from SABnzbd. Below are only the values that are different from calls to <code>queue</code>.
<p>Getting the public IPv4 address might take some time, so it can be skipped by setting <code>skip_dashboard=1</code>. Calculating the disk-speed is not possible through the API, only from a skin.</p>
<pre><code>api?mode=fullstatus&amp;skip_dashboard=0</code></pre>
<p><span class="label label-warning">NOTE</span> Some of the less obvious output paramaters are described below.</p>

<table class="table table-bordered table-hover">
    <thead>
        <tr>
            <th>Output parameter</th>
            <th>Description</th>
        </tr>
    </thead>
    <tbody>
        <tr>
            <td><code>darwin</code></td>
            <td><code>true</code> when OS running SABnzbd is macOS</td>
        </tr>
        <tr>
            <td><code>nt</code></td>
            <td><code>true</code> when OS running SABnzbd is Windows</td>
        </tr>
        <tr>
            <td><code>folders</code></td>
            <td>The orphaned job folder left in the Incomplete folder. Orphaned jobs can only be removed from a skin, not through the API</td>
        </tr>
        <tr>
            <td><code>pystone</code></td>
            <td>Indication of CPU speed, see <a href="/wiki/advanced/highspeed-downloading">Highspeed Downloading</a></td>
        </tr>
    </tbody>
</table>
{% highlight json %}
{
    "status":{
        "localipv4":"192.168.0.1",
        "ipv6":null,
        "publicipv4":"46.00.00.103",
        "dnslookup":"OK",
        "folders":[
            "Lost.Folder.BRRip.x264.1080p"
        ],
        "cpumodel":"Intel(R) Core(TM) i5-4200U CPU @ 1.60GHz",
        "pystone":88738,
        "downloaddir":"C:\\SABnzbd",
        "downloaddirspeed":0,
        "completedir":"C:\\Users\\xxx\\Videos\\Complete",
        "completedirspeed":0,
        "loglevel":"0",
        "logfile":"C:\\Users\\xxx\\AppData\\Local\\sabnzbd\\logs\\sabnzbd.log",
        "configfn":"C:\\Users\\xxx\\AppData\\Local\\sabnzbd\\sabnzbd.ini",
        "nt":true,
        "darwin":false,
        "helpuri":"https://sabnzbd.org/wiki/",
        "uptime":"3h",
        "color_scheme":"Default",
        "webdir":"C:\\Program Files\\SABnzbd\\interfaces\\Glitter\\templates",
        "active_lang":"en",
        "restart_req":false,
        "power_options":true,
        "pp_pause_event":false,
        "pid":123,
        "weblogfile":null,
        "new_release":false,
        "new_rel_url":null,
        "have_warnings":"0",
        "warnings":[

        ],
        "servers":[
            {
                "servername":"Frugal",
                "servertotalconn":25,
                "serverssl":0,
                "serveractiveconn":25,
                "serveroptional":0,
                "serveractive":true,
                "servererror":"",
                "serverpriority":0,
                "serverconnections":[
                    {
                        "thrdnum":1,
                        "nzo_name":"Movie.BRRip.x264.1080p",
                        "nzf_name":"93a4ec7c37752640deab48dabb46b164.01",
                        "art_name":"1467157804579212986$gps@gopoststuff"
                    },
                    {
                        "thrdnum":2,
                        "nzo_name":"Movie.BRRip.x264.1080p",
                        "nzf_name":"93a4ec7c37752640deab48dabb46b164.02",
                        "art_name":"1467157807935349477$gps@gopoststuff"
                    },
                    {
                        "thrdnum":3,
                        "nzo_name":"Movie.BRRip.x264.1080p",
                        "nzf_name":"93a4ec7c37752640deab48dabb46b164.03",
                        "art_name":"1467157811461680159$gps@gopoststuff"
                    }
                ]
            },
            {
                "servername":"Nextgennews",
                "servertotalconn":15,
                "serverssl":0,
                "serveractiveconn":0,
                "serveroptional":0,
                "serveractive":true,
                "servererror":"",
                "serverpriority":1,
                "serverconnections":[]
            }
        ]
    }
}
{% endhighlight %}
<h2 id="get_cats">Get all categories</h2>
<pre><code>api?mode=get_cats</code></pre>
{% highlight json %}
{
    "categories":[
        "*",
        "movies",
        "series",
        "tv"
    ]
}
{% endhighlight %}

<h2 id="get_scripts">Get all scripts</h2>
<pre><code>api?mode=get_scripts</code></pre>
{% highlight json %}
{
    "scripts":[
        "None",
        "Notify.py",
        "sabnzbd-notify.py"
    ]
}
{% endhighlight %}

<h2 id="server_stats">Download statistics</h2>
<p>Return download statistics in bytes, total and per-server.
<pre><code>api?mode=server_stats</code></pre>
{% highlight json %}
{
    "day":2352634799,
    "week":32934490677,
    "month":179983557488,
    "total":728426161290,
    "servers":{
        "eunews.server.com":{
            "week":19783288936,
            "total":163741252273,
            "day":2352634799,
            "month":90478917031,
            "daily":{
                "2017-01-28":1234,
                "2017-01-29":4567
            }
        },
        "News.server.net":{
            "week":13151201741,
            "total":165783396295,
            "day":0,
            "month":89499300889,
            "daily":{
                "2017-01-28":1234,
                "2017-01-29":4567
            }
        }
    }
}
{% endhighlight %}

<h2 id="get_config">Get config item(s)</h2>
<p>You can read the whole configuration, a sub-set or a single setting.</p>
<p><span class="label label-warning">NOTE</span> You will never receive passwords, each character will be replaced by <code>***</code> characters. You can set new passwords through the <a href="#set_config">set_config</a> call.</p>
<pre><code>api?mode=get_config</code></pre>

All elements in <code>misc</code> section
<pre><code>api?mode=get_config&amp;section=misc</code></pre>

Example of filtering the server settings by keyword:
<pre><code>api?mode=get_config&amp;section=servers&amp;keyword=ServerName</code></pre>

<h2 id="set_config">Set config item</h2>
<p>In order to change a setting, you need to provide the <code>section</code> and <code>keyword</code> of the setting:</p>
<pre><code>api?mode=set_config&amp;section=SECTION&amp;keyword=KEYWORD&amp;value=VALUE</code></pre>
<p>Returns the new setting when saved succesfully.</p>
<p>For example, changing the Cleanup-list to <code>.sfv,.nzb,.nfo,.ext</code> would look like this:</p>
<pre><code>api?mode=set_config&amp;section=misc&amp;keyword=cleanup_list&amp;value=.sfv,.nzb,.nfo,.ext</code></pre>

<h2>Setting Server settings</h2>
<p>Changing settings for Servers is a bit different and requires you to specify the correct <code>name</code> of the server. This <code>name</code> you can find in your <code>sabnzbd.ini</code>, where it will for example say <code>[news.newshosting.com]</code>. Here you can also see the values you could set via the API directly. If the <code>name</code> doesn't match an existing server, a new one will be added.</p>
<p>For example:</p>
<pre><code>api?mode=set_config&amp;section=servers&amp;name=SERVER_NAME&amp;username=VALUE_1&amp;connections=VALUE_2</code></pre>

<h2>Setting Category settings</h2>
<p>Changing settings for Categories is also a bit different and requires you to specify the correct <code>name</code> of the category. This <code>name</code> you can find in your <code>sabnzbd.ini</code>, where it will for example say <code>[movies]</code>. Here you can also see the values you could set via the API directly. If the <code>name</code> doesn't match an existing category, a new one will be added.</p>
<pre><code>api?mode=set_config&amp;section=categories&amp;name=CATEGORY_NAME&amp;dir=CATEGORY_DIR</code></pre>

<h2>Setting RSS settings</h2>
<p>Changing settings for RSS feeds is a bit different and requires you to specify the correct <code>name</code> of the feed. This <code>name</code> you can find in your <code>sabnzbd.ini</code>, where it will for example say <code>[Feed1]</code>. Here you can also see the values you could set via the API directly. If the <code>name</code> doesn't match an existing RSS feed, a new one will be added.</p>
<p>For example:</p>
<pre><code>api?mode=set_config&amp;section=rss&amp;name=FEED_NAME&amp;enable=VALUE_1&amp;pp=VALUE_2</code></pre>

<h2 id="set_config_default">Reset config item to default value</h2>
<p><span class="label label-warning">NOTE</span> Currently only for settings in the <code>misc</code> section of the config. Can accept multiple keywords to reset.</p>
<pre><code>api?mode=set_config_default&amp;keyword=SETTING_1&amp;keyword=SETTING_2</code></pre>

<h2 id="warnings">Get all active warnings </h2>
<pre><code>api?mode=warnings</code></pre>

<p><span class="label label-danger">NOTE</span> In 2.3.0+ this API call was changed to now return an array and timestamp to allow for more flexibility. Before 2.3.0 a single-line result was returned for each warning.</p>

{% highlight json %}
{
    "warnings":[
        {
            "text": "API key missing, please enter the API key from Config->General into your 3rd party program",
            "type": "WARNING",
            "time": 1505153489
        },
        {
            "text": "Thread 3@news.powerusenet.com:119: login failed",
            "type": "ERROR",
            "time": 1505139501
        }
    ]
}
{% endhighlight %}

<h2 id="warnings_clear">Clear all active warnings <span class="label label-primary">True/False</span></h2>
<pre><code>api?mode=warnings&amp;name=clear</code></pre>

<h2 id="translate">Translate a text</h2>
<p>Translate any text known to SABnzbd from English to the locale setting of the user.
<pre><code>api?mode=translate&amp;value=Watched%20Folder</code></pre>
<p>Will return for Dutch:
{% highlight json %}
{
    "value": "Bewaakte map"
}
{% endhighlight %}
